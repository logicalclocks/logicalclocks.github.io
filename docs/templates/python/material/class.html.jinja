{% extends "_base/class.html.jinja" %}

{% block heading scoped %}
  {% block alias_anchors scoped %}
    {% if class.extra.hopsworks_apigen and class.extra.hopsworks_apigen.aliases %}
      {% for alias in class.extra.hopsworks_apigen.aliases -%}
        {%- set alias_id = alias.target_module + "." + alias.alias_name -%}
        {% filter heading(
          9,
          role="class",
          id=alias_id,
          class="doc doc-heading",
          hidden=true,
          skip_inventory=config.skip_local_inventory,
        ) -%}{%- endfilter %}
      {%- endfor %}
    {% endif %}
  {% endblock alias_anchors %}

  {% block source_link scoped %}
    {% if config.extra.link_source and class.source_link %}
      <span style="float:right;font-size:.8rem;font-weight:400"><a href="{{ class.source_link }}">[source]</a></span>
    {% endif %}
  {% endblock source_link %}

  {{ super() }}

{% endblock heading %}

{% block contents scoped %}
  {% block aliases scoped %}
    {% if class.extra.hopsworks_apigen and class.extra.hopsworks_apigen.aliases %}
      {%- set public_aliases = class.extra.hopsworks_apigen.aliases | selectattr("is_public") | list -%}
      {% if public_aliases and public_aliases[1:] %}
        <p class="doc doc-class-aliases">
          Aliases: {% for alias in public_aliases[1:] -%}
            {%- set fullpath = alias.target_module + "." + alias.alias_name -%}
            <a href="#{{fullpath}}"><code>{{fullpath}}</code></a>
            {%- if not loop.last %}, {% endif %}
          {%- endfor %}
        </p>
      {% endif %}
    {% endif %}
  {% endblock aliases %}

  {{ super() }}
{% endblock contents %}
